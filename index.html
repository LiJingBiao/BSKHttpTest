<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>HttpTest 接口测试工具</title>
		<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://cdn1.lncld.net/static/js/av-min-1.2.1.js"></script>
		<style type="text/css">
			body{
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
			}
			div{
				width: 100%;
			}
			#liu a{
				color: white;
				text-decoration: none;
			}
			#liu{
				position: absolute;
				top: 0;
				width: 50px;
				height:50px;
				line-height: 50px;
				text-align: center;
				font-size: 40px;
				color: white;
				background-color: dodgerblue;
				box-shadow: 0px 0px 5px  #333333;
			}
			#title{
				margin-top: 100px;
				text-align: center;
				font-size: 50px;
			}
			#versiontext{
				font-weight: 200;
				text-align: center;
				margin-top: 20px;
				font-size: 15px;
			}
			#linkContainer{
				text-align: center;
				width: 100%;
				margin-top: 50px;
				margin-bottom: 50px;
			}
			.button{
				text-decoration: none;
				padding: 20px;
				margin: 20px;
				color: white;
				line-height: 50px;
				border-radius: 15px;
				background-color: dodgerblue;
			}
			#downloadCountNumber{
				width: 100%;
				text-align: center;
				font-weight: 200;
			}
			.contentdiv{
				/*width: 90%;*/
				margin: 0 auto;
			}
			.text1{
				margin-top: 100px;
				width: 29%;
				font-size: 20px;
				float: left;
			}
			.text1 li{
				font-weight: 200;
				margin-top: 20px;
			}
			.img1{
				margin-top: 50px;
				float: left;
				width:65% ;
			}
			.text2{text-align: center;
				margin-top: 100px;
				width: 100%;
				font-size: 20px;
				float: left;
			}
			.bottom{
				float: left;
				text-align: center;
				height: 60px;
				line-height: 60px;
				bottom: 20px;
				width: 100%;
			}
		</style>
	</head>
	<script>
		var APP_ID = 'QpyU7g95Q4RTjoNraYLnJoNH-gzGzoHsz';

// 应用 Key，用来校验权限（Web 端可以配置安全域名来保护数据安全）
		var APP_KEY = 'nQtqjUzmJQQcaALCvTaBncVN';

// 初始化
		AV.init({
 			 appId: APP_ID,
  			appKey: APP_KEY
		});
		
	
		
		if(getCookie("openFirsttime")==""){
			var query = new AV.Query('OpenWebSiteCount');
  			query.get('584cf5462f301e00572b9f74').then(function (count) {
   			 // 成功获得实例
    			var countnumber = count.get('count');
    			count.save({
    				count:countnumber+1
    			}).then(function(){ 
    				setCookie('openFirsttime','no',1);
    			});
    			
  			}, function (error) {
   			 // 异常处理
  			  console.error(error);
  			});
		}
		
		
		
		$({
			var query = new AV.Query('DownloadCount');
  			query.get('584cf2cc61ff4b0058e04e68').then(function (downloadcount) {
   			 // 成功获得实例
    				var countnumber = downloadcount.get('count');
    				document.getElementById("downloadCountNumber").innerHTML="已有"+countnumber+"次下载";
  			}, function (error) {
   			 // 异常处理
  			  console.error(error);
  			});
			
			document.getElementById("downloadButton").onclick=function(){
			var query = new AV.Query('DownloadCount');
  			query.get('584cf2cc61ff4b0058e04e68').then(function (downloadcount) {
   			 // 成功获得实例
    				var countnumber = downloadcount.get('count');
    				downloadcount.save({
    					count:countnumber+1
    			}).then(function(){
    				window.location.href="http://www.liuwanlin.tk/files/macApp/HttpTest%20v1.0.dmg";
    			});
    			
  			}, function (error) {
   			 // 异常处理
  			  console.error(error);
  			});
			};
			
		});

function setCookie(c_name,value,expiredays)
{
var exdate=new Date()
exdate.setDate(exdate.getDate()+expiredays)
document.cookie=c_name+ "=" +escape(value)+
((expiredays==null) ? "" : ";expires="+exdate.toGMTString())
}

function getCookie(c_name)
{
if (document.cookie.length>0)
  {
  c_start=document.cookie.indexOf(c_name + "=")
  if (c_start!=-1)
    { 
    c_start=c_start + c_name.length+1 
    c_end=document.cookie.indexOf(";",c_start)
    if (c_end==-1) c_end=document.cookie.length
    return unescape(document.cookie.substring(c_start,c_end))
    } 
  }
return ""
}

	</script>
	<body>
		<div id="liu"><a href="http://www.liuwanlin.tk">劉</a></div>
		<div id="title"><img src="AppIcon128x128.png">
		<br/>HttpTest</div>
		<div id="versiontext">一个测试接口数据的小工具<br/>版本 1.0</div>
		<div id="linkContainer"><a href="javascript:void(0);" class="button" id="downloadButton">Download</a><a href="https://github.com/bluesky335/BSKHttpTest" class="button">SourceCode</a><a href="help.html" class="button">help</a></div>
		<div id="downloadCountNumber"></div>
		<div class="contentdiv">
			<ul class="text1">
				<li>方便的填写网络请求参数，不在需要麻烦的链接符&amp;和?</li>
				<li>Json语法高亮，数据更清晰</li>
				<li>支持post和get</li>
				<li>支持保存接口和返回的数据</li>
				<li>双击列表项即可打开之前保存的数据</li>
			</ul>
			
		<img class="img1" src="app1.jpg" /></div>
		<div class="contentdiv"><img class="img1" src="app2.jpg" />
		<ul class="text1">
			<li>超链接高亮显示</li>
<li>单击超链接即可跳转</li>
<li>重按触控板使用Force Touch 预览超链接</li>
			</ul>
		</div>
		<div class="bottom">&copy; 2016 刘万林</div>
	</body>
</html>
